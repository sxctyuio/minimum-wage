<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>the costs of raising the minimum wage</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    :root{
      --bg:#DA291C; --card:rgba(255,255,255,0.97); --text:#1a1a1a; --muted:#64748b;
      --accent:#FFC72C; --old:#DA291C; --border:#e2e8f0;
      --chart-h:180px;
    }
    @media (max-width: 900px){ :root{ --chart-h:150px; } }

    *{box-sizing:border-box}
    body{ 
      margin:0; 
      font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; 
      background:var(--bg); 
      color:var(--text); 
      padding:24px; 
      line-height:1.5;
      min-height:100vh;
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/McDonald%27s_logo.svg/1200px-McDonald%27s_logo.svg.png');
      background-repeat: no-repeat;
      background-position: center center;
      background-size: 50%;
      background-attachment: fixed;
    }

    .wrap{max-width:1200px; margin:0 auto; display:grid; gap:20px}

    header.hero{ text-align:center; margin-bottom:10px; }
    header.hero h1{ margin:0; font-size:clamp(22px,3vw,36px); line-height:1.15; text-transform:lowercase; font-weight:800; color:#FFC72C; text-shadow: 2px 2px 4px rgba(0,0,0,0.4); }
    header.hero p{ margin:6px 0 0 0; color:rgba(255,255,255,0.95); font-size:15px; text-shadow: 1px 1px 3px rgba(0,0,0,0.4); }

    /* Buttons */
    .button-group{ display:flex; justify-content:center; gap:12px; flex-wrap:wrap; margin-bottom:16px; }
    .scenario-btn{
      padding:14px 24px;
      font-size:15px;
      font-weight:700;
      border:none;
      border-radius:12px;
      cursor:pointer;
      transition: all 0.2s ease;
      background:#fff;
      color:#333;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .scenario-btn:hover{ transform:translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.2); }
    .scenario-btn.active{
      background:linear-gradient(135deg, #FFC72C 0%, #FFB700 100%);
      color:#DA291C;
      box-shadow: 0 4px 20px rgba(255,199,44,0.4);
    }

    /* Big Mac Display */
    .bigmac-display{
      background:var(--card);
      border-radius:16px;
      padding:16px 32px;
      text-align:center;
      box-shadow: 0 8px 32px rgba(0,0,0,0.25);
      margin-bottom:20px;
      display:inline-block;
    }
    .bigmac-container{ display:flex; justify-content:center; }
    .bigmac-display h3{ margin:0 0 4px 0; font-size:14px; color:#DA291C; text-transform:uppercase; letter-spacing:0.5px; }
    .bigmac-display .price{ font-size:36px; font-weight:800; color:#333; }

    /* Two Column Layout */
    .two-columns{ display:grid; grid-template-columns:1fr 1fr; gap:24px; }
    @media (max-width: 900px){ .two-columns{ grid-template-columns:1fr; } }

    .column{ display:flex; flex-direction:column; gap:16px; }

    .card{ background:var(--card); border-radius:16px; padding:20px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); }
    .card h2{ margin:0 0 10px 0; font-size:15px; font-weight:700; color:#DA291C; text-align:center; }

    .chart-container{ height:var(--chart-h); }
    .chart-container canvas{ width:100% !important; height:100% !important; }

    .image-container{ 
      display:flex; 
      justify-content:center; 
      align-items:center; 
      min-height:200px;
      background:var(--card);
      border-radius:16px;
      padding:16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.25);
    }
    .image-container img{ max-width:100%; max-height:220px; border-radius:8px; }

    .stat{ 
      background:linear-gradient(135deg, #FFF8E7 0%, #FFF3D6 100%); 
      border:2px solid #FFC72C; 
      border-radius:12px; 
      padding:14px 16px; 
      text-align:center;
    }
    .stat b{ display:block; font-size:11px; color:#DA291C; margin-bottom:4px; text-transform:uppercase; letter-spacing:0.5px; font-weight:700; }
    .stat span{ font-weight:800; font-size:20px; color:var(--text); }
    .stat.negative span{ color:#DA291C; }
    .stat.positive span{ color:#16a34a; }

    /* Bottom Chart */
    .bottom-section{ margin-top:20px; }
    .bottom-chart{ 
      background:var(--card); 
      border-radius:16px; 
      padding:20px; 
      box-shadow: 0 8px 32px rgba(0,0,0,0.25);
      max-width:600px;
      margin:0 auto;
    }
    .bottom-chart h2{ margin:0 0 10px 0; font-size:15px; font-weight:700; color:#DA291C; text-align:center; }
    .bottom-chart-container{ height:180px; }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="hero">
      <h1>the costs of raising the minimum wage</h1>
      <p>it costs nothing for businesses while it's worth everything for workers</p>
    </header>

    <!-- 3 Scenario Buttons -->
    <div class="button-group">
      <button class="scenario-btn active" data-scenario="current">Current situation ($14)</button>
      <button class="scenario-btn" data-scenario="wage21">$21 minimum wage</button>
      <button class="scenario-btn" data-scenario="wage21health">$21 + healthcare</button>
    </div>

    <!-- Big Mac Price Display -->
    <div class="bigmac-container">
      <div class="bigmac-display">
        <h3>Cost of a Big Mac</h3>
        <div class="price" id="bigmacPrice">$6.00</div>
      </div>
    </div>

    <!-- Two Column Layout -->
    <div class="two-columns">
      <!-- LEFT COLUMN: People in Poverty -->
      <div class="column">
        <div class="card">
          <h2>Workers Lifted Out of Poverty</h2>
          <div class="chart-container">
            <canvas id="povertyChart"></canvas>
          </div>
        </div>
        <div class="image-container">
          <img id="leftImage" src="images/image-1.png" alt="Impact illustration">
        </div>
        <div class="stat positive">
          <b>People out of poverty</b>
          <span id="povertyCount">0</span>
        </div>
      </div>

      <!-- RIGHT COLUMN: Cost to Business -->
      <div class="column">
        <div class="card">
          <h2>The Cost of Raising the Minimum Wage for Businesses</h2>
          <div class="chart-container">
            <canvas id="costChart"></canvas>
          </div>
        </div>
        <div class="image-container">
          <img id="rightImage" src="images/image-2.png" alt="Business impact illustration">
        </div>
        <div class="stat negative">
          <b>Difference (Cost to McDonald's)</b>
          <span id="differenceAmount">-$0.00</span>
        </div>
      </div>
    </div>

    <!-- Bottom Chart: Money Back to Taxpayers -->
    <div class="bottom-section">
      <div class="bottom-chart">
        <h2>How Much Money Would Go Back to Taxpayers</h2>
        <div class="bottom-chart-container">
          <canvas id="taxpayerChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ============================================================
    // DATA FOR EACH SCENARIO
    // ============================================================
    const scenarios = {
      current: {
        name: 'Current situation ($14)',
        wage: 14,
        difference: 0,
        bigMacPrice: 6.00,
        povertyPeople: 0,
        taxpayerMoney: -2, // -$2 billion
        leftImage: 'images/image-1.png',
        rightImage: 'images/image-2.png'
      },
      wage21: {
        name: '$21 minimum wage',
        wage: 21,
        difference: -1510000000, // -$1.51B
        bigMacPrice: 6.34,
        povertyPeople: 3000000, // 3 million
        taxpayerMoney: 2, // +$2 billion
        leftImage: 'images/image-6.png',
        rightImage: 'images/image-3.png'
      },
      wage21health: {
        name: '$21 + healthcare',
        wage: 21,
        difference: -6720000000, // -$6.72B
        bigMacPrice: 6.44,
        povertyPeople: 3000000, // 3 million (same as wage21)
        taxpayerMoney: 2, // +$2 billion
        leftImage: 'images/image-10.png',
        rightImage: 'images/image-5.png'
      }
    };

    let currentScenario = 'current';

    // ============================================================
    // FORMAT HELPERS
    // ============================================================
    const fmtMoney = n => {
      const abs = Math.abs(n);
      const sign = n < 0 ? "-" : "";
      if (abs >= 1000000000) {
        return sign + "$" + (abs / 1000000000).toFixed(2) + "B";
      }
      if (abs >= 1000000) {
        return sign + "$" + (abs / 1000000).toFixed(2) + "M";
      }
      return sign + "$" + abs.toLocaleString();
    };

    const fmtInt = n => Math.round(n).toLocaleString();

    // ============================================================
    // DOM ELEMENTS
    // ============================================================
    const buttons = document.querySelectorAll('.scenario-btn');
    const bigmacPriceEl = document.getElementById('bigmacPrice');
    const povertyCountEl = document.getElementById('povertyCount');
    const differenceAmountEl = document.getElementById('differenceAmount');
    const leftImageEl = document.getElementById('leftImage');
    const rightImageEl = document.getElementById('rightImage');

    // ============================================================
    // CHARTS
    // ============================================================
    const goldColor = '#FFC72C';
    const redColor = '#DA291C';
    const greenColor = '#16a34a';

    // Poverty Chart
    const povertyCtx = document.getElementById('povertyChart').getContext('2d');
    const povertyChart = new Chart(povertyCtx, {
      type: 'bar',
      data: {
        labels: ['People Lifted'],
        datasets: [{
          label: 'People',
          data: [0],
          backgroundColor: greenColor,
          borderColor: greenColor,
          borderWidth: 1,
          barThickness: 60
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: false } },
        scales: {
          x: { display: false },
          y: {
            beginAtZero: true,
            max: 4000000,
            ticks: { 
              callback: v => (v / 1000000).toFixed(1) + 'M',
              color: '#666'
            },
            grid: { color: '#e8e8e8' }
          }
        }
      }
    });

    // Cost Chart (Stacked: New Profit + Difference)
    const costCtx = document.getElementById('costChart').getContext('2d');
    const costChart = new Chart(costCtx, {
      type: 'bar',
      data: {
        labels: ['Profit'],
        datasets: [
          {
            label: 'New Profit',
            data: [8.4], // $8.4B starting profit
            backgroundColor: goldColor,
            borderColor: goldColor,
            borderWidth: 1,
            barThickness: 60
          },
          {
            label: 'Difference',
            data: [0],
            backgroundColor: redColor,
            borderColor: redColor,
            borderWidth: 1,
            barThickness: 60
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { 
          legend: { 
            display: true,
            labels: { color: '#666', boxWidth: 12, padding: 8, font: { size: 11 } }
          } 
        },
        scales: {
          x: { display: false, stacked: true },
          y: {
            beginAtZero: true,
            stacked: true,
            max: 10,
            ticks: { 
              callback: v => '$' + v.toFixed(0) + 'B',
              color: '#666'
            },
            grid: { color: '#e8e8e8' }
          }
        }
      }
    });

    // Taxpayer Chart (can go negative)
    const taxpayerCtx = document.getElementById('taxpayerChart').getContext('2d');
    const taxpayerChart = new Chart(taxpayerCtx, {
      type: 'bar',
      data: {
        labels: ['Taxpayer Impact'],
        datasets: [{
          label: 'Money to Taxpayers',
          data: [-2],
          backgroundColor: redColor,
          borderColor: redColor,
          borderWidth: 1,
          barThickness: 80
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: false } },
        scales: {
          x: { display: false },
          y: {
            min: -3,
            max: 3,
            ticks: { 
              callback: v => (v >= 0 ? '+' : '') + '$' + v.toFixed(0) + 'B',
              color: '#666'
            },
            grid: { 
              color: (context) => context.tick.value === 0 ? '#333' : '#e8e8e8',
              lineWidth: (context) => context.tick.value === 0 ? 2 : 1
            }
          }
        }
      }
    });

    // ============================================================
    // UPDATE FUNCTION
    // ============================================================
    function updateDisplay(scenarioKey) {
      const data = scenarios[scenarioKey];
      currentScenario = scenarioKey;

      // Update buttons
      buttons.forEach(btn => {
        btn.classList.toggle('active', btn.dataset.scenario === scenarioKey);
      });

      // Update Big Mac price
      bigmacPriceEl.textContent = '$' + data.bigMacPrice.toFixed(2);

      // Update stats
      povertyCountEl.textContent = fmtInt(data.povertyPeople);
      differenceAmountEl.textContent = '-' + fmtMoney(Math.abs(data.difference));

      // Update poverty chart
      povertyChart.data.datasets[0].data[0] = data.povertyPeople;
      povertyChart.update('none');

      // Update cost chart (stacked: New Profit + Difference)
      const oldProfit = 8.4; // $8.4B
      const costInBillions = Math.abs(data.difference) / 1000000000;
      const newProfit = oldProfit - costInBillions;
      costChart.data.datasets[0].data[0] = newProfit; // New Profit (gold)
      costChart.data.datasets[1].data[0] = costInBillions; // Difference (red)
      costChart.update('none');

      // Update taxpayer chart
      taxpayerChart.data.datasets[0].data[0] = data.taxpayerMoney;
      taxpayerChart.data.datasets[0].backgroundColor = data.taxpayerMoney >= 0 ? greenColor : redColor;
      taxpayerChart.data.datasets[0].borderColor = data.taxpayerMoney >= 0 ? greenColor : redColor;
      taxpayerChart.update('none');

      // Update images
      leftImageEl.src = data.leftImage;
      rightImageEl.src = data.rightImage;
    }

    // ============================================================
    // EVENT LISTENERS
    // ============================================================
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        updateDisplay(btn.dataset.scenario);
      });
    });

    // Initialize
    updateDisplay('current');
  </script>
</body>
</html>
